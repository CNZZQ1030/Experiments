# è”é‚¦å­¦ä¹ æ¿€åŠ±æœºåˆ¶ - AMACè´¡çŒ®åº¦ä¸Žå·®å¼‚åŒ–æ¨¡åž‹åˆ†å‘
# Federated Learning Incentive Mechanism - AMAC Contribution and Differentiated Model Distribution

## ðŸ“‹ ç›®å½• / Table of Contents
1. [ç³»ç»Ÿæ¦‚è¿°](#ç³»ç»Ÿæ¦‚è¿°)
2. [å·¥ä½œæµç¨‹](#å·¥ä½œæµç¨‹)
3. [æ ¸å¿ƒåˆ›æ–°](#æ ¸å¿ƒåˆ›æ–°)
4. [è¿è¡ŒæŒ‡å—](#è¿è¡ŒæŒ‡å—)
5. [å®žéªŒé…ç½®](#å®žéªŒé…ç½®)
6. [è¯„ä»·æŒ‡æ ‡](#è¯„ä»·æŒ‡æ ‡)

---

## ç³»ç»Ÿæ¦‚è¿° / System Overview

æœ¬ç³»ç»Ÿå®žçŽ°äº†åŸºäºŽAMACï¼ˆAdaptive Magnitude-Aware Contributionï¼‰è´¡çŒ®åº¦è®¡ç®—çš„è”é‚¦å­¦ä¹ æ¿€åŠ±æœºåˆ¶ï¼Œé€šè¿‡å·®å¼‚åŒ–æ¨¡åž‹åˆ†å‘ç­–ç•¥æ¿€åŠ±å®¢æˆ·ç«¯å‚ä¸Žã€‚

### ä¸»è¦ç‰¹ç‚¹ / Key Features

1. **AMACè´¡çŒ®åº¦è®¡ç®—** / **AMAC Contribution Calculation**
   - è§£å†³ä¼ ç»ŸCGSVçš„"è´¡çŒ®é€’å‡"é—®é¢˜
   - è‡ªé€‚åº”å¹³è¡¡æ¢¯åº¦æ–¹å‘å’Œæ”¶æ•›æ€§
   - è®­ç»ƒåˆæœŸå…³æ³¨æ–¹å‘ï¼ŒåŽæœŸå…³æ³¨æ”¶æ•›

2. **å·®å¼‚åŒ–æ¨¡åž‹åˆ†å‘** / **Differentiated Model Distribution**
   - è´¡çŒ®åº¦ä¸º0ï¼šä»…èŽ·å¾—æœ¬åœ°æ¨¡åž‹
   - è´¡çŒ®åº¦è¶Šé«˜ï¼šèŽ·å¾—æ›´å¤šå…¶ä»–å®¢æˆ·ç«¯çš„æ›´æ–°
   - åŒç­‰çº§å®¢æˆ·ç«¯æ ¹æ®è´¡çŒ®åº¦èŽ·å¾—ä¸åŒè´¨é‡æ¨¡åž‹

3. **æ—¶é—´ç‰‡ç®¡ç†** / **Time Slice Management**
   - æ”¯æŒ5ç§æ—¶é—´ç‰‡åˆ’åˆ†æ–¹å¼
   - è´¡çŒ®åº¦ä¸Žæ—¶é—´ç‰‡ååŒç®¡ç†
   - ç§¯åˆ†æœ‰æ•ˆæœŸæœºåˆ¶

---

## å·¥ä½œæµç¨‹ / Workflow

### å®Œæ•´æµç¨‹å›¾ / Complete Workflow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    åˆå§‹åŒ–é˜¶æ®µ                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1. æ•°æ®åŠ è½½ä¸Žåˆ†å‰²ï¼ˆIID/Non-IIDï¼‰                          â”‚
â”‚ 2. æ¨¡åž‹åˆå§‹åŒ–                                           â”‚
â”‚ 3. å®¢æˆ·ç«¯åˆ›å»º                                           â”‚
â”‚ 4. ç‹¬ç«‹è®­ç»ƒåŸºå‡†è®¡ç®—                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 è”é‚¦å­¦ä¹ è®­ç»ƒå¾ªçŽ¯                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ­¥éª¤1: å®¢æˆ·ç«¯é€‰æ‹©                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ åŸºäºŽä¼šå‘˜ç­‰çº§å’Œè´¡çŒ®åº¦è®¡ç®—ä¼˜å…ˆçº§                           â”‚
â”‚ â€¢ é«˜ä¼˜å…ˆçº§å®¢æˆ·ç«¯ä¼˜å…ˆè¢«é€‰ä¸­                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ­¥éª¤2: æ¨¡åž‹åˆ†å‘ï¼ˆå·®å¼‚åŒ–ï¼‰                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ æ ¹æ®å®¢æˆ·ç«¯è´¡çŒ®åº¦åˆ†å‘ä¸åŒè´¨é‡çš„ä¸ªæ€§åŒ–æ¨¡åž‹                  â”‚
â”‚ â€¢ è´¡çŒ®åº¦=0ï¼šä»…æœ¬åœ°æ¨¡åž‹                                   â”‚
â”‚ â€¢ è´¡çŒ®åº¦>0ï¼šæ ¹æ®è´¡çŒ®åº¦èŽ·å–å…¶ä»–å®¢æˆ·ç«¯æ›´æ–°                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ­¥éª¤3: æœ¬åœ°è®­ç»ƒ                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ å®¢æˆ·ç«¯åœ¨æœ¬åœ°æ•°æ®ä¸Šè®­ç»ƒ                                  â”‚
â”‚ â€¢ è®°å½•è®­ç»ƒæ—¶é—´å’Œæ€§èƒ½æŒ‡æ ‡                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ­¥éª¤4: AMACè´¡çŒ®åº¦è®¡ç®—                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ Ci(t) = (1-Î»(t))Â·Sdir + Î»(t)Â·Sconv                   â”‚
â”‚ â€¢ Î»(t) = min(1, t/T)                                   â”‚
â”‚ â€¢ Sdir: æ–¹å‘è´¡çŒ®åˆ†ï¼ˆä½™å¼¦ç›¸ä¼¼åº¦ï¼‰                          â”‚
â”‚ â€¢ Sconv: æ”¶æ•›è´¡çŒ®åˆ†ï¼ˆæ¢¯åº¦å¹…åº¦ï¼‰                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ­¥éª¤5: æ—¶é—´ç‰‡ç§¯åˆ†æ›´æ–°                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ æ›´æ–°å½“å‰æ—¶é—´ç‰‡å†…çš„è´¡çŒ®ç§¯åˆ†                              â”‚
â”‚ â€¢ æ¸…ç†è¿‡æœŸç§¯åˆ†                                          â”‚
â”‚ â€¢ æ›´æ–°ä¼šå‘˜ç­‰çº§                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ­¥éª¤6: å…¨å±€æ¨¡åž‹æ›´æ–°                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ åŸºäºŽè´¡çŒ®åº¦çš„åŠ æƒèšåˆ                                    â”‚
â”‚ â€¢ æ›´æ–°å…¨å±€æ¨¡åž‹                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    è¯„ä¼°ä¸Žè®°å½•                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ æµ‹è¯•å‡†ç¡®çŽ‡è®¡ç®—                                        â”‚
â”‚ â€¢ æ—¶é—´æ¶ˆè€—è®°å½•                                          â”‚
â”‚ â€¢ PCCè®¡ç®—ï¼ˆç‹¬ç«‹vsè”é‚¦å‡†ç¡®çŽ‡ç›¸å…³æ€§ï¼‰                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## æ ¸å¿ƒåˆ›æ–° / Core Innovation

### 1. AMACè´¡çŒ®åº¦è®¡ç®—å…¬å¼

```
Ci(t) = (1 - Î»(t)) Â· Sdir(gi, gagg) + Î»(t) Â· Sconv(gi)

å…¶ä¸­ï¼š
- Î»(t) = min(1, t/T): è‡ªé€‚åº”æƒé‡
- Sdir: æ–¹å‘è´¡çŒ®åˆ† = max(0, cosine_similarity(gi, gagg))
- Sconv: æ”¶æ•›è´¡çŒ®åˆ† = exp(-Î³ Â· ||gi||/G_bar)
- gi: å®¢æˆ·ç«¯içš„æ¢¯åº¦
- gagg: èšåˆæ¢¯åº¦
- G_bar: æ‰€æœ‰å®¢æˆ·ç«¯æ¢¯åº¦å¹…åº¦å‡å€¼
```

### 2. å·®å¼‚åŒ–æ¨¡åž‹åˆ†å‘ç­–ç•¥

```python
# ä¼ªä»£ç 
def create_personalized_model(client_id, contribution):
    if contribution == 0:
        return client_local_model  # ä»…è¿”å›žæœ¬åœ°æ¨¡åž‹
    
    # æ ¹æ®è´¡çŒ®åº¦è®¡ç®—å¯è®¿é—®çš„æ›´æ–°æ•°é‡
    accessible_ratio = contribution * level_multiplier
    num_accessible = int(total_updates * accessible_ratio)
    
    # èšåˆå¯è®¿é—®çš„æ›´æ–°
    personalized_model = weighted_aggregate(accessible_updates)
    return personalized_model
```

---

## è¿è¡ŒæŒ‡å— / Running Guide

### çŽ¯å¢ƒè¦æ±‚ / Requirements

```bash
Python >= 3.7
PyTorch >= 1.9.0
NumPy >= 1.19.5
SciPy >= 1.5.0
tqdm
matplotlib
seaborn
```

### åŸºæœ¬è¿è¡Œå‘½ä»¤ / Basic Commands

#### 1. è¿è¡Œå•ä¸ªå®žéªŒ / Run Single Experiment

```bash
# IIDæ•°æ®åˆ†å¸ƒ + roundsæ—¶é—´ç‰‡
python main.py --dataset cifar10 --num_clients 100 --num_rounds 100 --distribution iid --time_slice rounds

# Non-IIDæ•°æ®åˆ†å¸ƒ + dynamicæ—¶é—´ç‰‡
python main.py --dataset mnist --num_clients 50 --num_rounds 80 --distribution non-iid --time_slice dynamic
```

#### 2. æ¯”è¾ƒæ•°æ®åˆ†å¸ƒ / Compare Data Distributions

```bash
# æ¯”è¾ƒIID vs Non-IID
python main.py --dataset cifar10 --compare_distributions
```

#### 3. æ¯”è¾ƒæ—¶é—´ç‰‡æ–¹æ³• / Compare Time Slice Methods

```bash
# æ¯”è¾ƒ5ç§æ—¶é—´ç‰‡æ–¹æ³•
python main.py --dataset mnist --distribution iid --compare_time_slices
```

#### 4. æ¯”è¾ƒä¸åŒæ•°æ®é›† / Compare Different Datasets

```bash
# æ¯”è¾ƒMNIST, Fashion-MNIST, CIFAR-10
python main.py --compare_datasets --distribution iid --time_slice rounds
```

### å‚æ•°è¯´æ˜Ž / Parameter Description

| å‚æ•° / Parameter | ç±»åž‹ / Type | é»˜è®¤å€¼ / Default | è¯´æ˜Ž / Description |
|-----------------|-------------|-----------------|-------------------|
| --dataset | str | cifar10 | æ•°æ®é›†é€‰æ‹© (mnist/fashion-mnist/cifar10/cifar100) |
| --num_clients | int | 100 | å®¢æˆ·ç«¯æ•°é‡ |
| --num_rounds | int | 100 | è®­ç»ƒè½®æ¬¡ |
| --distribution | str | iid | æ•°æ®åˆ†å¸ƒç±»åž‹ (iid/non-iid) |
| --time_slice | str | rounds | æ—¶é—´ç‰‡ç±»åž‹ (rounds/days/phases/dynamic/completion) |
| --experiment_name | str | auto | å®žéªŒåç§°ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰ |
| --seed | int | 42 | éšæœºç§å­ |
| --device | str | auto | è®¡ç®—è®¾å¤‡ (auto/cpu/cuda) |

---

## å®žéªŒé…ç½® / Experiment Configuration

### æ—¶é—´ç‰‡ç±»åž‹è¯´æ˜Ž / Time Slice Types

1. **rounds**: åŸºäºŽå›ºå®šè½®æ¬¡æ•°
   - æ¯Nè½®ä¸ºä¸€ä¸ªæ—¶é—´ç‰‡

2. **days**: åŸºäºŽå®žé™…å¤©æ•°
   - æ¯Må¤©ä¸ºä¸€ä¸ªæ—¶é—´ç‰‡

3. **phases**: åŸºäºŽè®­ç»ƒé˜¶æ®µ
   - åˆ†ä¸ºé¢„è®­ç»ƒã€å¾®è°ƒç­‰é˜¶æ®µ

4. **dynamic**: åŠ¨æ€è°ƒæ•´
   - æ ¹æ®ç³»ç»Ÿæ´»è·ƒåº¦è°ƒæ•´æ—¶é—´ç‰‡é•¿åº¦

5. **completion**: åŸºäºŽä»»åŠ¡å®Œæˆåº¦
   - æŒ‰ç…§è®­ç»ƒè¿›åº¦ç™¾åˆ†æ¯”åˆ’åˆ†

### æ•°æ®åˆ†å¸ƒé…ç½® / Data Distribution Configuration

- **IID (ç‹¬ç«‹åŒåˆ†å¸ƒ)**: 
  - æ•°æ®éšæœºå‡åŒ€åˆ†é…ç»™å®¢æˆ·ç«¯
  - æ¯ä¸ªå®¢æˆ·ç«¯æ•°æ®åˆ†å¸ƒç›¸ä¼¼

- **Non-IID (éžç‹¬ç«‹åŒåˆ†å¸ƒ)**: 
  - ä½¿ç”¨Dirichletåˆ†å¸ƒ
  - Î±å‚æ•°æŽ§åˆ¶å¼‚è´¨æ€§ç¨‹åº¦ï¼ˆé»˜è®¤0.5ï¼‰

---

## è¯„ä»·æŒ‡æ ‡ / Evaluation Metrics

### 1. æµ‹è¯•å‡†ç¡®çŽ‡ / Test Accuracy
- å…¨å±€æ¨¡åž‹åœ¨æµ‹è¯•é›†ä¸Šçš„å‡†ç¡®çŽ‡
- è®°å½•æ¯è½®çš„å‡†ç¡®çŽ‡å˜åŒ–

### 2. æ—¶é—´æ¶ˆè€— / Time Consumption
- æ¯è½®è®­ç»ƒæ—¶é—´
- æ€»è®­ç»ƒæ—¶é—´
- å¹³å‡æ¯è½®æ—¶é—´

### 3. çš®å°”é€Šç›¸å…³ç³»æ•° (PCC) / Pearson Correlation Coefficient

**è®¡ç®—æ–¹æ³•**:
1. æ”¶é›†æ‰€æœ‰å®¢æˆ·ç«¯çš„ç‹¬ç«‹è®­ç»ƒå‡†ç¡®çŽ‡ï¼ˆstandalone_accuracyï¼‰
2. æ”¶é›†æ‰€æœ‰å®¢æˆ·ç«¯çš„è”é‚¦å­¦ä¹ æœ€ç»ˆå‡†ç¡®çŽ‡ï¼ˆfederated_accuracyï¼‰
3. è®¡ç®—ä¸¤ä¸ªå‘é‡çš„ç›¸å…³ç³»æ•°

**è§£é‡Š**:
- PCC â‰ˆ 1: å¼ºæ­£ç›¸å…³ï¼ˆç†æƒ³æƒ…å†µï¼‰
- PCC > 0.8: å¼ºç›¸å…³
- 0.5 < PCC < 0.8: ä¸­ç­‰ç›¸å…³
- PCC < 0.5: å¼±ç›¸å…³

**å¯è§†åŒ–**:
- æ•£ç‚¹å›¾æ˜¾ç¤ºç‹¬ç«‹vsè”é‚¦å‡†ç¡®çŽ‡
- å›žå½’çº¿æ˜¾ç¤ºç›¸å…³æ€§è¶‹åŠ¿
- æŸ±çŠ¶å›¾æ˜¾ç¤ºæ€§èƒ½æå‡åˆ†å¸ƒ

---

## è¾“å‡ºæ–‡ä»¶è¯´æ˜Ž / Output Files

```
outputs/
â”œâ”€â”€ results/           # å®žéªŒç»“æžœ
â”‚   â”œâ”€â”€ {experiment_name}_metrics.json    # è¯¦ç»†æŒ‡æ ‡
â”‚   â””â”€â”€ {experiment_name}_config.json     # å®žéªŒé…ç½®
â”œâ”€â”€ plots/            # å¯è§†åŒ–å›¾è¡¨
â”‚   â”œâ”€â”€ {experiment_name}_pcc_analysis.png      # PCCåˆ†æžå›¾
â”‚   â”œâ”€â”€ {experiment_name}_training_curves.png   # è®­ç»ƒæ›²çº¿
â”‚   â””â”€â”€ {experiment_name}_contribution_heatmap.png # è´¡çŒ®åº¦çƒ­åŠ›å›¾
â””â”€â”€ logs/             # æ—¥å¿—æ–‡ä»¶
    â””â”€â”€ experiment.log
```

---

## å¸¸è§é—®é¢˜ / FAQ

**Q: å¦‚ä½•è°ƒæ•´AMACå‚æ•°ï¼Ÿ**
A: ä¿®æ”¹`AMACContributionCalculator`çš„åˆå§‹åŒ–å‚æ•°ï¼š
- T: è½¬æŠ˜ç‚¹è½®æ¬¡ï¼ˆé»˜è®¤200ï¼‰
- gamma: æ”¶æ•›åˆ†æ•°æ•æ„Ÿåº¦ï¼ˆé»˜è®¤1.0ï¼‰

**Q: å¦‚ä½•ä¿®æ”¹ä¼šå‘˜ç­‰çº§é˜ˆå€¼ï¼Ÿ**
A: åœ¨`config.py`ä¸­ä¿®æ”¹`LEVEL_THRESHOLDS`ï¼š
```python
LEVEL_THRESHOLDS = {
    'bronze': 0,
    'silver': 2000,
    'gold': 6000,
    'diamond': 15000
}
```

**Q: å¦‚ä½•æ·»åŠ æ–°çš„æ•°æ®é›†ï¼Ÿ**
A: åœ¨`datasets/data_loader.py`ä¸­æ·»åŠ æ–°çš„åŠ è½½å‡½æ•°ï¼Œå¹¶åœ¨`DatasetConfig`ä¸­æ³¨å†Œã€‚

---

## è”ç³»æ–¹å¼ / Contact

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·æäº¤Issueæˆ–Pull Requestã€‚

---

## å¼•ç”¨ / Citation

å¦‚æžœä½¿ç”¨æœ¬ä»£ç ï¼Œè¯·å¼•ç”¨ï¼š
```bibtex
@software{fl_amac_2024,
  title = {Federated Learning with AMAC and Differentiated Model Distribution},
  year = {2024}
}
```